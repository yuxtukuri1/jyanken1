<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>じゃんけん</title>
<link rel="stylesheet"href="style1.css
.

">

<script type="text/javascript">
window.onload = init;
var countBox;
var scoreBox;
var persentBox;
function init(){
	countBox = document.form.count;
	scoreBox = document.form.score;
	persentBox = document.form.persent;
}

hand = new Array("0.gif","1.gif","2.gif");
var result = new Array(3);
	result[0] = "WINNER";
	result[1] = "LOSE";
	result[2] = "DROW";
countBox.value = 0;
	

function bhand(btn) {
	r = Math.floor(Math.random() * 3);
	document.getElementById("ahand").innerHTML = "<img src='" + hand[btn] + "'>"
	document.getElementById("bhand").innerHTML = "<img src='" + hand[r] + "'>"
	countBox.value++;
	if(btn == 0){//自分グーのとき
		switch(r){
			case 0://相手がグー　あいこ
				document.getElementById("result").innerHTML = result[2];
				break;
			case 1://相手がチョキ　かち
				document.getElementById("result").innerHTML = result[0];
				scoreBox.value++;
				break;
			case 2://相手がパー　まけ
				document.getElementById("result").innerHTML = result[1];
				break;}
	}
	
	if(btn == 1){//自分チョキのとき
		switch(r){
			case 0://相手がグー　まけ
				document.getElementById("result").innerHTML = result[1];
				break;
			case 1://相手がチョキ　あいこ
				document.getElementById("result").innerHTML = result[2];
				break;
			case 2://相手がパー　かち
				document.getElementById("result").innerHTML = result[0];
				scoreBox.value++;
				break;}
	}
	
	if(btn == 2){//自分パーのとき
		switch(r){
			case 0://相手がグー　かち
				document.getElementById("result").innerHTML = result[0];
				scoreBox.value++;
				break;
			case 1://相手がチョキ　まけ
				document.getElementById("result").innerHTML = result[1];
				break;
			case 2://相手がパー　あいこ
				document.getElementById("result").innerHTML = result[2];
				break;}
	}
	
	persentBox.value = scoreBox.value / countBox.value * 100;
}


</script>

</head>
<body>
<h1>じゃんけんゲーム</h1>
<hr>
<table border = solid align="center">
	<tr>
		<th width="310" height="435"><div id="ahand"></div></th>
		<th>VS</th>
		<th width="310" height="435"><div id="bhand"></div></th>
	</tr>
	
	<tr>
		<th>自分 You</th>
			<td>&nbsp;</td>
		<th>相手 Enemy</th>
	</tr>
	
	<tr>
		<th colspan="3"><div id="result"></div></th>
	</tr>
	
	<tr>
		<th colspan="3"><form name="janken">

<table border="0" align="center">
<tr>
<td colspan="3">選んで勝負！</td>
</tr>
<tr>
<th><input type="button" onClick="bhand(0)" value="グー"></th>
<th><input type="button" onClick="bhand(1)" value="チョキ"></th>
<th><input type="button" onClick="bhand(2)" value="パー"></th>
</tr>
</form></th>
</tr>
</table>
<form name = "form">
<p>試合回数<input type="text" name="count"   size="50"></p><br>
<p>勝利回数<input type="text" name="score"   size="20"></p>
<p>勝率    <input type="text" name="persent" size="20">％</p>
</form>
</body>
</html>